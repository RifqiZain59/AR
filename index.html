<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cek WebAR</title>
    
    <style>
        body { 
            background-color: #ffdddd; /* Merah muda */
            font-family: monospace; 
            padding: 20px;
        }
        #status-log {
            background: white; 
            padding: 10px; 
            border: 2px solid black;
            margin-bottom: 10px;
        }
        model-viewer {
            width: 100%;
            height: 400px;
            background-color: #eee;
            border: 2px dashed red;
        }
    </style>

    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
</head>
<body>

    <h2>üõ†Ô∏è MODE PENGECEKAN</h2>
    
    <div id="status-log">
        1. HTML Terbuka... OK.<br>
        2. Menunggu script model-viewer...
    </div>

    <model-viewer 
        id="viewer"
        src="./model.glb" 
        alt="Test Model" 
        ar 
        camera-controls 
        auto-rotate>
        
        <button slot="ar-button" style="padding:10px; font-size:20px;">
            üì∏ Buka Kamera
        </button>

    </model-viewer>

    <script>
        const logBox = document.getElementById('status-log');
        const viewer = document.getElementById('viewer');

        // Fungsi nambah tulisan status
        function log(msg) {
            logBox.innerHTML += "<br>" + msg;
        }

        // Cek apakah script model-viewer jalan
        customElements.whenDefined('model-viewer').then(() => {
            log("‚úÖ Script berhasil dimuat! Internet OK.");
        }).catch((err) => {
            log("‚ùå Script GAGAL. Cek koneksi internet.");
        });

        // Cek Error pada Model
        viewer.addEventListener('error', (event) => {
            log("‚ùå <b>ERROR MODEL:</b> File 'model.glb' tidak ditemukan atau rusak!");
            log("üëâ Pastikan nama file kecil semua: <b>model.glb</b>");
            log("üëâ Pastikan file ada di sebelah index.html");
        });

        viewer.addEventListener('load', () => {
            log("‚úÖ <b>BERHASIL!</b> Model ditemukan dan dimuat.");
        });
    </script>

</body>
</html>